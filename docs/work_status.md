# 進捗管理簿：生成AI連携 英語日記Webアプリ（Docker+WordPress）

> 目的：この管理簿だけで「今どこまでできたか」「次に何をやるか」「詰まっている点は何か」を一目で追えるようにする。

---

## 0. 基本情報
- プロジェクト名：生成AI連携 英語日記Webアプリ（Docker+WordPress）
- 開発環境：WSL Ubuntu / VS Code / Docker Compose
- 方針：ローカル（Docker）でMVP → 本番WordPressへ移行
- リポジトリ：
- 本番URL（後で記入）：

---

## 1. 進捗サマリー（週次/日次）
- 最新更新日：2026-01-04
- 現在フェーズ：Phase 0 完了 → Phase 1 準備中
- 今週の目標：
  - Phase 0: 環境構築完了 ✅
  - Phase 1: 保存と表示機能の実装開始
- 直近の完了（最大3件）：
  - Docker環境構築（WordPress + MariaDB + phpMyAdmin）
  - プラグイン雛形作成と有効化成功
  - Git初期化とリポジトリセットアップ
- 直近の課題（最大3件）：
  - プラグインファイルのパーミッション問題（解決済み） 

---

## 2. フェーズ別タスク管理（チェックリスト）

### Phase 0：環境を起動して「編集→反映」を作る
| No | タスク | 完了条件 | 担当 | 状態 | 着手 | 完了 | メモ |
|---:|---|---|---|---|---|---|---|
| 0-1 | プロジェクト作業フォルダ作成（docker/wp-content/docs） | 期待の構成で作成済み | 自分 | ✅ | 2026-01-04 | 2026-01-04 | docker/wp-content/作成完了 |
| 0-2 | docker-compose.yml 作成 | WP+DBが起動する | 自分 | ✅ | 2026-01-04 | 2026-01-04 | ポート8020設定済み |
| 0-3 | wp-content をホストにマウント | VS Code編集が即反映 | 自分 | ✅ | 2026-01-04 | 2026-01-04 | マウント設定完了 |
| 0-4 | WP初期設定（管理者作成） | /wp-admin ログイン可 | 自分 | ✅ | 2026-01-04 | 2026-01-04 | 管理者アカウント作成済み |
| 0-5 | プラグイン雛形作成（diarycoach.php） | 管理画面で有効化できる | 自分 | ✅ | 2026-01-04 | 2026-01-04 | パーミッション修正後有効化成功 |
| 0-6 | Git初期化・.gitignore 設定 | .env/DB等が除外される | 自分 | ✅ | 2026-01-04 | 2026-01-04 | mainブランチで初期化 |


### Phase 1：保存と表示（AIなし）
| No | タスク | 完了条件 | 担当 | 状態 | 着手 | 完了 | メモ |
|---:|---|---|---|---|---|---|---|
| 1-1 | DB保存方式を確定（カスタムテーブル or CPT） | 方針決定し記録 | 自分 | ⬜ |  |  |  |
| 1-2 | テーブル作成（dbDelta） | wp_diarycoach_entries 作成確認 | 自分 | ⬜ |  |  |  |
| 1-3 | REST: POST /entries（作成） | 作成してDBに入る | 自分 | ⬜ |  |  |  |
| 1-4 | REST: GET /entries（一覧） | 最新10件が取れる | 自分 | ⬜ |  |  |  |
| 1-5 | REST: GET /entries/{id}（詳細） | 1件が取れる | 自分 | ⬜ |  |  |  |
| 1-6 | ショートコード [diarycoach_app] | ページにUIが出る | 自分 | ⬜ |  |  |  |
| 1-7 | フロントJS：保存→一覧更新 | 画面で完結して操作できる | 自分 | ⬜ |  |  |  |
| 1-8 | 権限制御（ログインのみ） | 未ログインは拒否される | 自分 | ⬜ |  |  |  |


### Phase 2：AIレビュー連携
| No | タスク | 完了条件 | 担当 | 状態 | 着手 | 完了 | メモ |
|---:|---|---|---|---|---|---|---|
| 2-1 | OpenAI APIキー設定（ローカル） | .env→コンテナで参照可 | 自分 | ⬜ |  |  |  |
| 2-2 | プロンプト仕様（JSON固定） | docs/prompt.mdに確定 | 自分 | ⬜ |  |  |  |
| 2-3 | REST: POST /entries/{id}/review | corrected等が返る | 自分 | ⬜ |  |  |  |
| 2-4 | review_json をDBに保存 | 再読込しても残る | 自分 | ⬜ |  |  |  |
| 2-5 | UI：レビュー表示（4項目） | corrected/alt/notes/readAloud表示 | 自分 | ⬜ |  |  |  |
| 2-6 | エラー処理（失敗時メッセージ） | 原因が分かる表示 | 自分 | ⬜ |  |  |  |
| 2-7 | コスト制御（文字数/回数制限） | 制限が効く | 自分 | ⬜ |  |  |  |


### Phase 3：読み上げ + ランダム復習
| No | タスク | 完了条件 | 担当 | 状態 | 着手 | 完了 | メモ |
|---:|---|---|---|---|---|---|---|
| 3-1 | Web Speech APIで読み上げ | ボタンで音が出る | 自分 | ⬜ |  |  |  |
| 3-2 | REST: GET /shadowing/random | ランダム1件が取れる | 自分 | ⬜ |  |  |  |
| 3-3 | REST: POST /entries/{id}/shadowed | count+1が更新される | 自分 | ⬜ |  |  |  |
| 3-4 | UI：ランダム復習フロー | Random→表示→Speak→記録 | 自分 | ⬜ |  |  |  |
| 3-5 | ランダム選定の軽い優先 | reviewed優先/回数少優先 | 自分 | ⬜ |  |  |  |


### Phase 4：本番移行
| No | タスク | 完了条件 | 担当 | 状態 | 着手 | 完了 | メモ |
|---:|---|---|---|---|---|---|---|
| 4-1 | 本番WordPress準備（別サイト推奨） | 管理画面ログイン可 | 自分 | ⬜ |  |  |  |
| 4-2 | プラグイン配布（zip/コピー） | 本番で有効化できる | 自分 | ⬜ |  |  |  |
| 4-3 | 本番のAPIキー設定 | サーバ側のみで参照可 | 自分 | ⬜ |  |  |  |
| 4-4 | 本番でテーブル作成 | 正常作成確認 | 自分 | ⬜ |  |  |  |
| 4-5 | 本番でMVP動作確認 | 保存/レビュー/復習OK | 自分 | ⬜ |  |  |  |
| 4-6 | データ移行方針の確定 | 手動 or export/import | 自分 | ⬜ |  |  |  |
| 4-7 | データ移行実施（必要なら） | 期待件数が入る | 自分 | ⬜ |  |  |  |

---

## 3. イシューログ（詰まり・バグ・未解決事項）
| ID | 発生日 | 重要度 | 内容 | 影響 | 暫定対応 | 状態 | 解決日 | メモ |
|---|---|---|---|---|---|---|---|---|
| I-001 |  | High/Med/Low |  |  |  | Open/Doing/Done |  |  |

---

## 4. 決定事項ログ（後で迷わないため）
| ID | 決定日 | 決めたこと | 理由 | 代替案 | 影響範囲 |
|---|---|---|---|---|---|
| D-001 |  |  |  |  |  |

---

## 5. リリース/マイルストーン記録
| マイルストーン | 目標日 | 完了日 | 内容 | 備考 |
|---|---|---|---|---|
| M0 |  |  | ローカルWP起動＆プラグイン有効化 |  |
| M1 |  |  | 保存→一覧→詳細（AIなし） |  |
| M2 |  |  | AIレビュー連携 |  |
| M3 |  |  | 読み上げ＋ランダム復習 |  |
| M4 |  |  | 本番移行 |  |

---

## 6. 変更履歴（この管理簿の更新ログ）
| 日付 | 更新者 | 変更内容 |
|---|---|---|
| YYYY-MM-DD | 自分 | 初版作成 |
